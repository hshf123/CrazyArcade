syntax = "proto3";
package Protocol;

import "Enum.proto";

message Channel
{
	int32 channelId = 1;
	int32 maxPlayerCount = 2;
	int32 currentPlayerCount = 3;
}

message ChannelInfo
{
	int32 channelCount = 1;
	repeated Channel channels = 2;
}

message Room
{
	int32 roomId = 1;
	string roomName = 2;
	int64 leaderId = 3;
	int32 maxPlayerCount = 4;
	int32 currentPlayerCount = 5;
}

message LobbyInfo
{
	int32 roomCount = 1;
	repeated Room rooms = 2;
}

// UI
message Player
{
	int64 playerId = 1;
	int32 level = 2;
	string name = 3;
	int32 roomIdx = 4;
	bool ready = 5;
}

message RoomInfo
{
	int32 roomId = 1;
	Room room = 2;
	repeated bool benList = 3;
	repeated Player playerList = 4;
}

// InGame
message PlayerInfo
{
	int64 playerId = 1;
	string name = 2;
	float speed = 3;
	int32 maxBombCount = 4;
	int32 bombCount = 5;
	int32 bombRange = 6;
}

message WorldPos
{
	float posX = 1;
	float posY = 2;
}

message CellPos
{
	int32 posX = 1;
	int32 posY = 2;
}

message PositionInfo
{
	PlayerState state = 1;
	MoveDir moveDir = 2;
	WorldPos worldPos = 3;
	CellPos cellPos = 4;
}