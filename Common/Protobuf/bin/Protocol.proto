syntax = "proto3";
package Protocol;

import "google/protobuf/timestamp.proto";
option csharp_namespace = "Google.Protobuf.Protocol";

import "Enum.proto";
import "Struct.proto";

message C_LOGIN
{
	string id = 1;
	string pw = 2;
}

message S_LOGIN
{
	bool success = 1;
	repeated PChannel channels = 2;
	int64 playerId = 3;
}

message C_CHANNELCHOICE
{
	int32 channelId = 1;
	int64 playerId = 2;
}

message S_CHANNELCHOICE
{
	bool success = 1;
	int32 channelId = 2;
	repeated PRoom rooms = 3;
}

message C_CHANNELCHAT
{
	int64 playerId = 1;
	int32 channelId = 2;
	string chat = 3;
}

message S_CHANNELCHAT
{
	string name = 1;
	string chat = 2;
}

message C_MAKEROOM
{
	string roomName = 1;
	int64 playerId = 2;
	int32 channelId = 3;
}

message S_MAKEROOM
{
	bool success = 1;
	PRoom room = 2;
}

message S_CHANNELUPDATE
{
	repeated PRoom rooms = 1;
}

message C_ROOMENTER
{
	int32 channelId = 1;
	int64 playerId = 2;
	int32 roomId = 3;
}

message S_ROOMENTER
{
	bool success = 1;
	PRoom room = 2;
}

message S_ROOMUPDATE
{
	PRoom room = 1;
}

message C_ROOMREADY
{
	int64 playerId = 1;
	int32 channelId = 2;
	int32 roomId = 3;
}

message C_ROOMSTART
{
	int64 playerId = 1;
	int32 channelId = 2;
	int32 roomId = 3;
}

message S_ROOMSTART
{
	bool success = 1;
	PRoom room = 2;
	repeated PRoomStart spawn = 3;
}

message C_MOVE
{
	PPositionInfo positionInfo = 1;
}

message S_MOVE
{
	bool force = 1;
	PPlayer player = 2;
	PPositionInfo positionInfo = 3;
}

message C_BOMB
{
	PPositionInfo posInfo = 1;
}

message S_BOMB
{
	PPlayer player = 1;
	PCellPos cellpos = 2;
}

message S_BOMBEND
{
	PPlayer player = 1;
	repeated PCellPos cellPoses = 2;
	repeated PPlayer trapPlayers = 3;
}

message S_DEAD
{
	PPlayer player = 1;
	PPositionInfo posInfo = 2;
}